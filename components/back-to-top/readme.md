# Back to top button

The back to top button lets people go back to the top of a page without scrolling. This can be helpful on long pages. When selected, the back to top button takes you to the top of the page.

This can help people with mobility issues navigate the page more easily. It also helps people save time.

The back to top button is especially helpful for people using mobile devices. It decreases the swiping they have to do to get back to the top of a page.

The button disappears after 7 seconds. If someone scrolls again, it will reappear.

## When and how to use it

We recommend installing the back to top button by default. If a page is not long enough to require scrolling, the back to top button will not appear.

### How not to use it

This component has no extra guidance. Use the component as specified.

## Demo and sample markup

<html-preview>

```html preview
<div id="lipsum">
  <p>
    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut eu mi auctor,
    imperdiet lorem ut, accumsan sapien. Phasellus lacus elit, finibus dignissim
    ipsum vitae, ultrices efficitur eros. Sed interdum commodo tellus id ornare.
    Duis augue erat, vulputate ullamcorper sodales sed, feugiat at ipsum. Ut
    quis malesuada sem. Etiam aliquet suscipit lobortis. Sed eu massa purus. Sed
    mattis tellus non ex varius feugiat. Sed sagittis pharetra diam, vitae
    vehicula leo mattis quis. Duis molestie condimentum euismod.
  </p>
  <p>
    Phasellus neque arcu, rutrum eu nisi vitae, interdum dignissim sapien.
    Quisque pretium, sem dictum mollis sagittis, enim risus consectetur felis,
    ut suscipit dolor turpis eu libero. Fusce eget eleifend neque, vel tempus
    leo. Nam vel semper ligula. Nunc elementum velit ut pellentesque tempus.
    Aliquam erat volutpat. Aliquam at maximus neque.
  </p>
  <p>
    Ut consectetur gravida sem, ut feugiat diam convallis quis. Nulla
    ullamcorper luctus nunc sit amet sagittis. Praesent sit amet vestibulum leo.
    Sed arcu nibh, eleifend id pellentesque quis, accumsan ut nibh. Ut dignissim
    quam ac vestibulum fermentum. Sed nec fermentum magna, at sagittis elit. Sed
    at mollis ipsum, a blandit elit. Etiam et euismod lectus, eget gravida
    mauris. Aenean nibh leo, posuere ultrices porttitor id, mattis vel leo.
  </p>
  <p>
    Curabitur in nulla nisl. Quisque nec justo id magna iaculis ornare.
    Pellentesque vitae pulvinar enim. Ut elementum maximus euismod. Fusce in est
    ligula. Integer auctor aliquam dapibus. Etiam pulvinar nisl ac tincidunt
    pellentesque. Duis ultricies euismod tempus. Suspendisse eu varius libero.
    Aliquam sed elementum felis, a condimentum dui. Phasellus turpis eros,
    fermentum eget elit sit amet, posuere facilisis odio. In iaculis, nibh non
    scelerisque condimentum, turpis lorem fermentum tellus, quis ultricies magna
    ante ut erat.
  </p>
  <p>
    Nulla blandit eros ac dui porta egestas at ut neque. Integer feugiat sit
    amet orci quis lacinia. Phasellus at ex sed quam pretium porta. Sed sit amet
    risus eu sapien posuere luctus vel vel orci. Suspendisse fringilla enim ac
    scelerisque sollicitudin. Nullam vitae ultrices arcu. Fusce dignissim
    finibus lacus nec imperdiet. Fusce sit amet orci in nisi cursus malesuada id
    sit amet turpis. Maecenas in laoreet erat. Nulla vel suscipit lectus.
    Phasellus semper sapien sapien, a gravida dolor gravida eu. Praesent
    lobortis sollicitudin tortor in placerat. Sed pretium tortor id eros
    tincidunt, eu pulvinar risus volutpat. Etiam malesuada, massa sodales
    sagittis dictum, neque lacus blandit quam, quis lobortis ligula nisl
    porttitor odio. Phasellus luctus nec justo scelerisque pellentesque.
  </p>
  <p>
    Pellentesque posuere tempus tristique. Aliquam id mollis orci. Mauris
    elementum viverra turpis at volutpat. Ut et eleifend metus. Pellentesque
    eget congue dolor. Nullam tincidunt eu augue pellentesque mollis.
    Suspendisse erat lectus, dignissim non metus sit amet, bibendum faucibus
    leo.
  </p>
  <p>
    Donec magna sapien, fermentum vel mollis sit amet, egestas ac justo. Donec
    euismod mi hendrerit neque congue, et iaculis lorem finibus. Aenean vitae
    congue velit. In porttitor, diam ac iaculis iaculis, erat ligula commodo
    dolor, at tincidunt est lorem id dolor. Nulla ut urna nibh. Vivamus quis
    mauris euismod metus faucibus eleifend. Morbi imperdiet in neque suscipit
    vestibulum. Sed egestas a sem quis ornare. In at ante a magna pretium
    molestie. Pellentesque vestibulum fermentum ipsum, at vestibulum quam
    placerat vel.
  </p>
  <p>
    Pellentesque eget dictum lacus, quis fringilla nisl. Integer quis felis sit
    amet ante tincidunt hendrerit sit amet eget orci. Aliquam erat volutpat.
    Etiam massa erat, malesuada vel nibh id, maximus viverra diam. Cras sagittis
    enim lacus, in mollis nisi egestas eu. Sed condimentum quam eget gravida
    lacinia. Maecenas lacinia blandit enim in laoreet. Vestibulum facilisis
    lacus dui, ut ultrices lacus tincidunt non. In imperdiet nulla et varius
    posuere. Sed feugiat tellus eros, at accumsan ligula auctor vehicula. Etiam
    ornare, nulla vel dapibus pellentesque, libero velit rhoncus mi, porta
    convallis ex ligula non urna. Nunc scelerisque lacinia gravida. Donec vitae
    vehicula arcu, eget maximus nisi.
  </p>
  <p>
    Aliquam molestie vel arcu vel dignissim. Donec urna metus, pellentesque at
    nulla et, ornare convallis dolor. Donec blandit sollicitudin condimentum.
    Proin volutpat fringilla arcu porta hendrerit. In eros metus, scelerisque
    nec ipsum in, fermentum sollicitudin sem. Integer lobortis felis leo, sit
    amet placerat nisi tristique et. Fusce a enim et velit eleifend rutrum nec
    auctor mauris. Nam dui turpis, mattis vitae justo rhoncus, lobortis bibendum
    nisl. Nam a egestas mi. Proin eleifend lorem sit amet est sollicitudin
    efficitur. Phasellus risus lorem, vulputate et magna vel, lacinia aliquam
    lectus. Interdum et malesuada fames ac ante ipsum primis in faucibus. Sed
    dapibus leo at dui lobortis, eget dictum nunc fringilla. Sed consectetur
    erat quis nisl iaculis interdum.
  </p>
  <p>
    Vestibulum eget convallis leo, sed aliquam nulla. Donec volutpat mi vehicula
    diam efficitur, vel posuere arcu imperdiet. Quisque id consectetur massa.
    Maecenas eget mauris lacus. Suspendisse potenti. Donec gravida nisi sed
    neque ornare, ut imperdiet velit scelerisque. Curabitur id leo nisl. Nulla
    tempus sagittis neque non suscipit.
  </p>
  <p>
    In pharetra dictum urna vitae congue. Proin mattis fringilla nunc, sed
    gravida leo finibus id. Pellentesque ex ante, blandit sit amet velit quis,
    sollicitudin efficitur orci. Maecenas et malesuada leo, non auctor leo.
    Aliquam id lacinia magna. Nulla facilisi. Suspendisse potenti. Vivamus
    egestas dictum magna. Donec hendrerit interdum eleifend. Duis velit augue,
    ultrices at odio vel, dapibus viverra tortor. Sed non tortor auctor, pretium
    nisl a, sodales nunc. Quisque non erat vel risus lacinia imperdiet.
  </p>
  <p>
    Suspendisse molestie facilisis risus ac aliquet. Suspendisse porttitor
    commodo tortor, sed ullamcorper risus porttitor vel. Mauris sagittis, mi sed
    scelerisque auctor, diam ex iaculis purus, in euismod lectus urna vel dolor.
    Sed sit amet lorem aliquet, commodo justo ut, tristique massa. Nunc varius
    ex non rhoncus interdum. Aliquam libero mi, porttitor ac dolor eu, elementum
    viverra turpis. Nunc efficitur mauris eget mi accumsan, at congue felis
    porttitor. Etiam et libero viverra tellus aliquet finibus. Suspendisse
    turpis dui, eleifend nec tristique sit amet, fringilla in lacus.
  </p>
  <p>
    Aliquam erat volutpat. Sed bibendum metus varius vestibulum posuere. Etiam
    sodales orci in molestie pharetra. Mauris blandit varius tellus, vitae
    hendrerit ligula sollicitudin ac. Aliquam porttitor ultrices est, sit amet
    dapibus elit tristique quis. Sed placerat lorem non urna iaculis tincidunt.
    Praesent at mauris arcu. Nullam facilisis justo sed suscipit condimentum.
    Vivamus in mauris vel ligula fringilla varius. In condimentum nisl eu eros
    ultricies pulvinar. Nunc et erat mauris. Fusce consequat purus venenatis
    semper molestie. Phasellus pellentesque justo ut feugiat scelerisque. Aenean
    varius sit amet mauris eget faucibus. Mauris porta eget magna quis laoreet.
  </p>
  <p>
    Sed feugiat, arcu eu feugiat vehicula, turpis metus congue magna, in
    sagittis nisl arcu nec dolor. Vivamus eleifend mi eu metus lobortis, blandit
    pulvinar metus tincidunt. Morbi sit amet mauris viverra, fermentum dolor
    sed, tincidunt augue. Sed sagittis, risus non faucibus pretium, arcu ante
    maximus diam, eu vulputate est dolor in enim. Quisque ut posuere sapien.
    Nullam iaculis efficitur elementum. Praesent augue augue, venenatis nec dui
    at, eleifend porttitor elit. Quisque ultrices justo ante, eget vestibulum
    sem accumsan vitae. Morbi vel lacus consequat, mollis metus id, feugiat
    felis. Mauris malesuada nibh sit amet urna pulvinar, vitae suscipit nisl
    ultrices. Sed diam risus, consectetur et mattis eget, maximus vel tortor.
    Donec porttitor sit amet sem ac placerat. Ut ullamcorper dapibus nulla, non
    ultricies nunc vestibulum quis.
  </p>
  <p>
    Donec suscipit sodales neque vel blandit. Integer eleifend posuere egestas.
    Cras vel molestie sem, vel bibendum mauris. Duis dapibus tempor
    pellentesque. Class aptent taciti sociosqu ad litora torquent per conubia
    nostra, per inceptos himenaeos. Cras porta risus a aliquam pulvinar. Sed
    egestas nisl vel mi auctor ornare. Sed sed augue in turpis gravida
    malesuada. Curabitur eu massa elementum, dictum libero at, sagittis nibh.
    Suspendisse vitae rutrum nunc. Nunc pulvinar vulputate nulla, vitae dictum
    felis lobortis id.
  </p>
</div>

<!--BACK TO TOP BUTTON custom element-->
<cagov-back-to-top data-label="Back to top"></cagov-back-to-top>
```

</html-preview>

## Specs

| Property     | Value            |
| ------------ | ---------------- |
| Machine name | ds-back-to-top   |
| JavaScript   | yes              |
| SCSS         | ./src/index.scss |

## Project installation

The instructions assume familiarity with [npm](https://npmjs.com) package management tool, modern JavaScript techniques, and [Sass](https://sass-lang.com/).

1. `npm i @cagov/ds-back-to-top`
2. Use `import`[¹](/footnotes/#footnote1) or `require` to include the component’s **JavaScript** in your page or compiler.
3. Include **SCSS** in your Sass compiler.
4. Add the **sample markup** to your HTML.
5. Refer to the [Content model section](#content-model) for notes on mapping your data to the **sample markup**.

## CSS variables

The following [CSS variables](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties) are used in this component:

- `--primary-color`
- `--primary-dark-color`
- `--highlight-color`
- `--body-text`
- `--body-text-mobile`
- `--gray-100`

All CSS variables define their own fallback value so you do not have to use additional CSS unless you want to change them. You may define your own value for the variable by adding your own style rules. Here is an example defining the global hex value for a CSS variable named “--primary-color”:

```css
:root {
  --primary-color: #064e66;
}
```

## Accessibility

### Component-specific accessibility review

- Make sure that arrow span has `aria-hidden=”true”` attribute.
- When button is not visible, make sure it has `aria-hidden=”true”` and `tabindex=”-1”` attributes. When button is visible, make sure those attribute are no longer there.
- Make sure that button has solid, 2px outline that uses `--highlight-color` variable on focused state.

### Standard accessibility review

As a component in Alpha status, this component must pass the following accessibility reviews every time a new version is published:

- Tested with the `[axe](https://www.deque.com/axe/)` accessibility tool and passes all automated [WCAG](https://www.w3.org/TR/WCAG21/) Level AA checks
- Reviewed with the [VoiceOver](https://www.apple.com/voiceover/info/guide/_1121.html) screen reader on desktop
- Verified keyboard navigation and that all actionable elements of the component are reachable via keyboard commands only
- Reviewed component layout on a variety of screen sizes

## Progressive enhancement

This component uses a [custom element](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements) defined in JavaScript in addition to HTML and CSS. Edge, Firefox, Safari, and Chrome support custom elements. If the JavaScript for this component is not delivered or supported, the component will not display. This is the desired behavior because this component is not critical for site interaction. It uses [CSS variables](<https://developer.mozilla.org/en-US/docs/Web/CSS/var()#syntax>) to inherit design token values. Token definitions are not required because these style rules provide fallback values.

<a name="content-model"></a>

## Content model

This component uses the following data attributes. We provide this information to help with integrating the component into backend publishing systems or identifying content that may require translation.

| Name       | Attribute name  | Data type | Field type                              |
| ---------- | --------------- | --------- | --------------------------------------- |
| Label      | data-label      | string    | Plain text (default is “Back to top”)   |
| Hide after | data-hide-after | string    | Integer (milliseconds, default is 7000) |
